- replace `echo -ne` commands with `printf`

- initialize variables at the beginning

- replace '! -n' with '-z'
